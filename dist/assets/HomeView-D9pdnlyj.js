import{N as X}from"./NavBar-CUfHI2uT.js";import{g as N,$ as q,n as Y,_ as J,S as K,a as Z,c as C,b as H,d as l,e as A,r as j,w as V,f as w,v as aa,h as R,F as B,i as M,j as ta,k as G,l as ea,o as v,t as E,m as na,p as la}from"./index-BQyouPzZ.js";function U(a,s,c,f){const o=N();return a.params.createElements&&Object.keys(f).forEach(i=>{if(!c[i]&&c.auto===!0){let h=a.$el.children(`.${f[i]}`)[0];h||(h=o.createElement("div"),h.className=f[i],a.$el.append(h)),c[i]=h,s[i]=h}}),c}function sa({swiper:a,extendParams:s,on:c,emit:f}){s({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),a.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function o(r){let d;return r&&(d=q(r),a.params.uniqueNavElements&&typeof r=="string"&&d.length>1&&a.$el.find(r).length===1&&(d=a.$el.find(r))),d}function i(r,d){const t=a.params.navigation;r&&r.length>0&&(r[d?"addClass":"removeClass"](t.disabledClass),r[0]&&r[0].tagName==="BUTTON"&&(r[0].disabled=d),a.params.watchOverflow&&a.enabled&&r[a.isLocked?"addClass":"removeClass"](t.lockClass))}function h(){if(a.params.loop)return;const{$nextEl:r,$prevEl:d}=a.navigation;i(d,a.isBeginning&&!a.params.rewind),i(r,a.isEnd&&!a.params.rewind)}function y(r){r.preventDefault(),!(a.isBeginning&&!a.params.loop&&!a.params.rewind)&&(a.slidePrev(),f("navigationPrev"))}function k(r){r.preventDefault(),!(a.isEnd&&!a.params.loop&&!a.params.rewind)&&(a.slideNext(),f("navigationNext"))}function b(){const r=a.params.navigation;if(a.params.navigation=U(a,a.originalParams.navigation,a.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(r.nextEl||r.prevEl))return;const d=o(r.nextEl),t=o(r.prevEl);d&&d.length>0&&d.on("click",k),t&&t.length>0&&t.on("click",y),Object.assign(a.navigation,{$nextEl:d,nextEl:d&&d[0],$prevEl:t,prevEl:t&&t[0]}),a.enabled||(d&&d.addClass(r.lockClass),t&&t.addClass(r.lockClass))}function n(){const{$nextEl:r,$prevEl:d}=a.navigation;r&&r.length&&(r.off("click",k),r.removeClass(a.params.navigation.disabledClass)),d&&d.length&&(d.off("click",y),d.removeClass(a.params.navigation.disabledClass))}c("init",()=>{a.params.navigation.enabled===!1?T():(b(),h())}),c("toEdge fromEdge lock unlock",()=>{h()}),c("destroy",()=>{n()}),c("enable disable",()=>{const{$nextEl:r,$prevEl:d}=a.navigation;r&&r[a.enabled?"removeClass":"addClass"](a.params.navigation.lockClass),d&&d[a.enabled?"removeClass":"addClass"](a.params.navigation.lockClass)}),c("click",(r,d)=>{const{$nextEl:t,$prevEl:e}=a.navigation,u=d.target;if(a.params.navigation.hideOnClick&&!q(u).is(e)&&!q(u).is(t)){if(a.pagination&&a.params.pagination&&a.params.pagination.clickable&&(a.pagination.el===u||a.pagination.el.contains(u)))return;let g;t?g=t.hasClass(a.params.navigation.hiddenClass):e&&(g=e.hasClass(a.params.navigation.hiddenClass)),f(g===!0?"navigationShow":"navigationHide"),t&&t.toggleClass(a.params.navigation.hiddenClass),e&&e.toggleClass(a.params.navigation.hiddenClass)}});const _=()=>{a.$el.removeClass(a.params.navigation.navigationDisabledClass),b(),h()},T=()=>{a.$el.addClass(a.params.navigation.navigationDisabledClass),n()};Object.assign(a.navigation,{enable:_,disable:T,update:h,init:b,destroy:n})}function P(a=""){return`.${a.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function W({swiper:a,extendParams:s,on:c,emit:f}){const o="swiper-pagination";s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),a.pagination={el:null,$el:null,bullets:[]};let i,h=0;function y(){return!a.params.pagination.el||!a.pagination.el||!a.pagination.$el||a.pagination.$el.length===0}function k(t,e){const{bulletActiveClass:u}=a.params.pagination;t[e]().addClass(`${u}-${e}`)[e]().addClass(`${u}-${e}-${e}`)}function b(){const t=a.rtl,e=a.params.pagination;if(y())return;const u=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length,g=a.pagination.$el;let m;const S=a.params.loop?Math.ceil((u-a.loopedSlides*2)/a.params.slidesPerGroup):a.snapGrid.length;if(a.params.loop?(m=Math.ceil((a.activeIndex-a.loopedSlides)/a.params.slidesPerGroup),m>u-1-a.loopedSlides*2&&(m-=u-a.loopedSlides*2),m>S-1&&(m-=S),m<0&&a.params.paginationType!=="bullets"&&(m=S+m)):typeof a.snapIndex<"u"?m=a.snapIndex:m=a.activeIndex||0,e.type==="bullets"&&a.pagination.bullets&&a.pagination.bullets.length>0){const p=a.pagination.bullets;let x,O,L;if(e.dynamicBullets&&(i=p.eq(0)[a.isHorizontal()?"outerWidth":"outerHeight"](!0),g.css(a.isHorizontal()?"width":"height",`${i*(e.dynamicMainBullets+4)}px`),e.dynamicMainBullets>1&&a.previousIndex!==void 0&&(h+=m-(a.previousIndex-a.loopedSlides||0),h>e.dynamicMainBullets-1?h=e.dynamicMainBullets-1:h<0&&(h=0)),x=Math.max(m-h,0),O=x+(Math.min(p.length,e.dynamicMainBullets)-1),L=(O+x)/2),p.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(z=>`${e.bulletActiveClass}${z}`).join(" ")),g.length>1)p.each(z=>{const I=q(z),$=I.index();$===m&&I.addClass(e.bulletActiveClass),e.dynamicBullets&&($>=x&&$<=O&&I.addClass(`${e.bulletActiveClass}-main`),$===x&&k(I,"prev"),$===O&&k(I,"next"))});else{const z=p.eq(m),I=z.index();if(z.addClass(e.bulletActiveClass),e.dynamicBullets){const $=p.eq(x),F=p.eq(O);for(let D=x;D<=O;D+=1)p.eq(D).addClass(`${e.bulletActiveClass}-main`);if(a.params.loop)if(I>=p.length){for(let D=e.dynamicMainBullets;D>=0;D-=1)p.eq(p.length-D).addClass(`${e.bulletActiveClass}-main`);p.eq(p.length-e.dynamicMainBullets-1).addClass(`${e.bulletActiveClass}-prev`)}else k($,"prev"),k(F,"next");else k($,"prev"),k(F,"next")}}if(e.dynamicBullets){const z=Math.min(p.length,e.dynamicMainBullets+4),I=(i*z-i)/2-L*i,$=t?"right":"left";p.css(a.isHorizontal()?$:"top",`${I}px`)}}if(e.type==="fraction"&&(g.find(P(e.currentClass)).text(e.formatFractionCurrent(m+1)),g.find(P(e.totalClass)).text(e.formatFractionTotal(S))),e.type==="progressbar"){let p;e.progressbarOpposite?p=a.isHorizontal()?"vertical":"horizontal":p=a.isHorizontal()?"horizontal":"vertical";const x=(m+1)/S;let O=1,L=1;p==="horizontal"?O=x:L=x,g.find(P(e.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${O}) scaleY(${L})`).transition(a.params.speed)}e.type==="custom"&&e.renderCustom?(g.html(e.renderCustom(a,m+1,S)),f("paginationRender",g[0])):f("paginationUpdate",g[0]),a.params.watchOverflow&&a.enabled&&g[a.isLocked?"addClass":"removeClass"](e.lockClass)}function n(){const t=a.params.pagination;if(y())return;const e=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length,u=a.pagination.$el;let g="";if(t.type==="bullets"){let m=a.params.loop?Math.ceil((e-a.loopedSlides*2)/a.params.slidesPerGroup):a.snapGrid.length;a.params.freeMode&&a.params.freeMode.enabled&&!a.params.loop&&m>e&&(m=e);for(let S=0;S<m;S+=1)t.renderBullet?g+=t.renderBullet.call(a,S,t.bulletClass):g+=`<${t.bulletElement} class="${t.bulletClass}"></${t.bulletElement}>`;u.html(g),a.pagination.bullets=u.find(P(t.bulletClass))}t.type==="fraction"&&(t.renderFraction?g=t.renderFraction.call(a,t.currentClass,t.totalClass):g=`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`,u.html(g)),t.type==="progressbar"&&(t.renderProgressbar?g=t.renderProgressbar.call(a,t.progressbarFillClass):g=`<span class="${t.progressbarFillClass}"></span>`,u.html(g)),t.type!=="custom"&&f("paginationRender",a.pagination.$el[0])}function _(){a.params.pagination=U(a,a.originalParams.pagination,a.params.pagination,{el:"swiper-pagination"});const t=a.params.pagination;if(!t.el)return;let e=q(t.el);e.length!==0&&(a.params.uniqueNavElements&&typeof t.el=="string"&&e.length>1&&(e=a.$el.find(t.el),e.length>1&&(e=e.filter(u=>q(u).parents(".swiper")[0]===a.el))),t.type==="bullets"&&t.clickable&&e.addClass(t.clickableClass),e.addClass(t.modifierClass+t.type),e.addClass(a.isHorizontal()?t.horizontalClass:t.verticalClass),t.type==="bullets"&&t.dynamicBullets&&(e.addClass(`${t.modifierClass}${t.type}-dynamic`),h=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),t.type==="progressbar"&&t.progressbarOpposite&&e.addClass(t.progressbarOppositeClass),t.clickable&&e.on("click",P(t.bulletClass),function(g){g.preventDefault();let m=q(this).index()*a.params.slidesPerGroup;a.params.loop&&(m+=a.loopedSlides),a.slideTo(m)}),Object.assign(a.pagination,{$el:e,el:e[0]}),a.enabled||e.addClass(t.lockClass))}function T(){const t=a.params.pagination;if(y())return;const e=a.pagination.$el;e.removeClass(t.hiddenClass),e.removeClass(t.modifierClass+t.type),e.removeClass(a.isHorizontal()?t.horizontalClass:t.verticalClass),a.pagination.bullets&&a.pagination.bullets.removeClass&&a.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&e.off("click",P(t.bulletClass))}c("init",()=>{a.params.pagination.enabled===!1?d():(_(),n(),b())}),c("activeIndexChange",()=>{(a.params.loop||typeof a.snapIndex>"u")&&b()}),c("snapIndexChange",()=>{a.params.loop||b()}),c("slidesLengthChange",()=>{a.params.loop&&(n(),b())}),c("snapGridLengthChange",()=>{a.params.loop||(n(),b())}),c("destroy",()=>{T()}),c("enable disable",()=>{const{$el:t}=a.pagination;t&&t[a.enabled?"removeClass":"addClass"](a.params.pagination.lockClass)}),c("lock unlock",()=>{b()}),c("click",(t,e)=>{const u=e.target,{$el:g}=a.pagination;if(a.params.pagination.el&&a.params.pagination.hideOnClick&&g&&g.length>0&&!q(u).hasClass(a.params.pagination.bulletClass)){if(a.navigation&&(a.navigation.nextEl&&u===a.navigation.nextEl||a.navigation.prevEl&&u===a.navigation.prevEl))return;const m=g.hasClass(a.params.pagination.hiddenClass);f(m===!0?"paginationShow":"paginationHide"),g.toggleClass(a.params.pagination.hiddenClass)}});const r=()=>{a.$el.removeClass(a.params.pagination.paginationDisabledClass),a.pagination.$el&&a.pagination.$el.removeClass(a.params.pagination.paginationDisabledClass),_(),n(),b()},d=()=>{a.$el.addClass(a.params.pagination.paginationDisabledClass),a.pagination.$el&&a.pagination.$el.addClass(a.params.pagination.paginationDisabledClass),T()};Object.assign(a.pagination,{enable:r,disable:d,render:n,update:b,init:_,destroy:T})}function Q({swiper:a,extendParams:s,on:c,emit:f}){let o;a.autoplay={running:!1,paused:!1},s({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function i(){if(!a.size){a.autoplay.running=!1,a.autoplay.paused=!1;return}const t=a.slides.eq(a.activeIndex);let e=a.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(e=t.attr("data-swiper-autoplay")||a.params.autoplay.delay),clearTimeout(o),o=Y(()=>{let u;a.params.autoplay.reverseDirection?a.params.loop?(a.loopFix(),u=a.slidePrev(a.params.speed,!0,!0),f("autoplay")):a.isBeginning?a.params.autoplay.stopOnLastSlide?y():(u=a.slideTo(a.slides.length-1,a.params.speed,!0,!0),f("autoplay")):(u=a.slidePrev(a.params.speed,!0,!0),f("autoplay")):a.params.loop?(a.loopFix(),u=a.slideNext(a.params.speed,!0,!0),f("autoplay")):a.isEnd?a.params.autoplay.stopOnLastSlide?y():(u=a.slideTo(0,a.params.speed,!0,!0),f("autoplay")):(u=a.slideNext(a.params.speed,!0,!0),f("autoplay")),(a.params.cssMode&&a.autoplay.running||u===!1)&&i()},e)}function h(){return typeof o<"u"||a.autoplay.running?!1:(a.autoplay.running=!0,f("autoplayStart"),i(),!0)}function y(){return!a.autoplay.running||typeof o>"u"?!1:(o&&(clearTimeout(o),o=void 0),a.autoplay.running=!1,f("autoplayStop"),!0)}function k(t){a.autoplay.running&&(a.autoplay.paused||(o&&clearTimeout(o),a.autoplay.paused=!0,t===0||!a.params.autoplay.waitForTransition?(a.autoplay.paused=!1,i()):["transitionend","webkitTransitionEnd"].forEach(e=>{a.$wrapperEl[0].addEventListener(e,n)})))}function b(){const t=N();t.visibilityState==="hidden"&&a.autoplay.running&&k(),t.visibilityState==="visible"&&a.autoplay.paused&&(i(),a.autoplay.paused=!1)}function n(t){!a||a.destroyed||!a.$wrapperEl||t.target===a.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(e=>{a.$wrapperEl[0].removeEventListener(e,n)}),a.autoplay.paused=!1,a.autoplay.running?i():y())}function _(){a.params.autoplay.disableOnInteraction?y():(f("autoplayPause"),k()),["transitionend","webkitTransitionEnd"].forEach(t=>{a.$wrapperEl[0].removeEventListener(t,n)})}function T(){a.params.autoplay.disableOnInteraction||(a.autoplay.paused=!1,f("autoplayResume"),i())}function r(){a.params.autoplay.pauseOnMouseEnter&&(a.$el.on("mouseenter",_),a.$el.on("mouseleave",T))}function d(){a.$el.off("mouseenter",_),a.$el.off("mouseleave",T)}c("init",()=>{a.params.autoplay.enabled&&(h(),N().addEventListener("visibilitychange",b),r())}),c("beforeTransitionStart",(t,e,u)=>{a.autoplay.running&&(u||!a.params.autoplay.disableOnInteraction?a.autoplay.pause(e):y())}),c("sliderFirstMove",()=>{a.autoplay.running&&(a.params.autoplay.disableOnInteraction?y():k())}),c("touchEnd",()=>{a.params.cssMode&&a.autoplay.paused&&!a.params.autoplay.disableOnInteraction&&i()}),c("destroy",()=>{d(),a.autoplay.running&&y(),N().removeEventListener("visibilitychange",b)}),Object.assign(a.autoplay,{pause:k,run:i,start:h,stop:y})}const ia="/vue-project/videos/0509_1.mov",oa="/vue-project/images/hong.jpeg",ra={beforeMount(a,s){a.clickOutsideEvent=function(c){a===c.target||a.contains(c.target)||s.value(c)},document.body.addEventListener("click",a.clickOutsideEvent)},unmounted(a){document.body.removeEventListener("click",a.clickOutsideEvent)}},ca={name:"HomeView",components:{NavBar:X,Swiper:Z,SwiperSlide:K},directives:{"click-outside":ra},data(){return{isScrolled:!1,showDropdown:!1,showResults:!1,searchQuery:"",selectedCategory:null,allVillages:[{id:1,name:"潮州古城",category:"chaoshan",location:"潮州市"},{id:2,name:"龙湖古寨",category:"chaoshan",location:"汕头市"},{id:3,name:"佛山祖庙",category:"guangfu",location:"佛山市"},{id:4,name:"沙湾古镇",category:"guangfu",location:"广州市"},{id:5,name:"雁南飞茶田",category:"hakka",location:"梅州市"},{id:6,name:"桥溪古韵",category:"hakka",location:"梅州市"},{id:7,name:"程洋冈村",category:"chaoshan",location:"汕头市澄海区"},{id:8,name:"前美村",category:"chaoshan",location:"汕头市澄海区"},{id:9,name:"大岭村",category:"guangfu",location:"广州市番禺区"},{id:10,name:"松塘村",category:"guangfu",location:"佛山市南海区"},{id:11,name:"侨乡村",category:"hakka",location:"梅州市梅县区"},{id:12,name:"南华又庐",category:"hakka",location:"梅州市梅县区"}],categories:[{id:"chaoshan",name:"潮汕村落",image:"/images/chaoshandiqu/chaozhougucheng/chaozhoushi5.png"},{id:"guangfu",name:"广府村落",image:"/images/guangfudiqu/dalingcun/dalingcun1.png"},{id:"hakka",name:"客家村落",image:"/images/kejiadiqu/yannanfeichatian/yannanfeichatian6.png"}],featuredVillages:[{id:10,name:"松塘村",image:"/images/guangfudiqu/songtangcun/songtangcun2.png"},{id:5,name:"雁南飞茶田",image:"/images/kejiadiqu/yannanfeichatian/yannanfeichatian1.png"},{id:7,name:"程洋冈村",image:"/images/chaoshandiqu/chengyanggang/chengyanggang2.png"}],slides:[{title:"佛山祖庙",image:"/images/guangfudiqu/foshanzumiao/foshanzumiao2.png"},{title:"桥溪古镇",image:"/images/kejiadiqu/qiaoxiguyun/qiaoxiguyun3.png"},{title:"龙湖古寨",image:"/images/chaoshandiqu/longhuguzhai/longhuguzhai3.png"}],features:[{id:1,title:"建筑艺术",icon:"/images/jianzhu/广府（珠三角）地区/灰塑.jpg",description:"建筑融合了中西风格，骑楼、碉楼、祠堂等建筑形式独具特色。"},{id:2,title:"民俗文化",icon:"/images/民俗文化/潮汕文化/潮剧.jpg",description:"地区保留了丰富的民俗活动，如醒狮、粤剧、龙舟赛等传统节庆。"},{id:3,title:"美食文化",icon:"/images/美食文化/广府美食/广式早茶文化.jpg",description:"粤菜、潮州菜、客家菜三大菜系汇聚，早茶文化、凉茶文化闻名遐迩。"}],testimonials:[{id:1,quote:"古村落让我感受到了传统文化的魅力，仿佛穿越回了古代。那些精美的雕刻和古老的建筑让我惊叹不已。",author:"张先生",avatar:"/images/guangfudiqu/foshanzumiao/foshanzumiao2.png"},{id:2,quote:"客家围屋的建筑智慧令人惊叹，这次旅行让我对客家文化有了更深的了解，收获颇丰。",author:"李小姐",avatar:"/images/guangfudiqu/foshanzumiao/foshanzumiao2.png"},{id:3,quote:"潮汕村落的民俗活动非常丰富，我体验了当地的英歌舞表演，感受到了浓厚的文化氛围。",author:"王先生",avatar:"/images/guangfudiqu/foshanzumiao/foshanzumiao2.png"},{id:4,quote:"广府村落的岭南园林设计精巧，每一处都透露出岭南人的生活智慧，非常值得一游。",author:"赵女士",avatar:"/images/guangfudiqu/foshanzumiao/foshanzumiao2.png"},{id:5,quote:"这次旅行让我对传统村落的保护有了新的认识，希望这些文化遗产能得到更好的传承。",author:"刘先生",avatar:"/images/guangfudiqu/foshanzumiao/foshanzumiao2.png"}],newsList:[{id:1,title:"文化节即将开幕",date:"2023-11-15",excerpt:"一年一度的文化节将在广州举行，展示传统手工艺和民俗表演。",image:"/images/特色手工艺/织染绣类/香云纱2.jpg"},{id:2,title:"古村落保护论坛召开",date:"2023-11-10",excerpt:"专家学者齐聚一堂，探讨传统村落保护与发展的新路径。",image:"/images/guangfudiqu/songtangcun/songtangcun5.png"}],swiperOptions:{modules:[Q,W],autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}},observer:null,sections:[],currentScrollPosition:0,scrollInterval:null,isPaused:!1,duplicatedTestimonials:[],activeIndex:0}},computed:{filteredVillages(){return this.selectedCategory?this.allVillages.filter(a=>a.category===this.selectedCategory):[]},sliderTrackStyle(){return{transform:`translateX(-${this.currentScrollPosition}px)`,transition:this.isPaused?"none":"transform 0.5s ease"}}},setup(){return{modules:[Q,W,sa]}},mounted(){this.initObserver(),window.addEventListener("scroll",this.handleScroll),this.checkScrollPosition(),this.duplicatedTestimonials=[...this.testimonials,...this.testimonials],this.startAutoScroll()},beforeUnmount(){this.observer&&this.observer.disconnect(),window.removeEventListener("scroll",this.handleScroll),this.scrollInterval&&clearInterval(this.scrollInterval)},methods:{initObserver(){const a={root:null,rootMargin:"0px",threshold:[0,.25,.5,.75,1]};this.observer=new IntersectionObserver(s=>{s.forEach(c=>{const f=c.target;c.isIntersecting&&f.classList.add("in-view")})},a),this.sections=[this.$refs.heroSection,this.$refs.titleSection,this.$refs.searchSection,this.$refs.contentContainer,this.$refs.rightNav],this.sections.forEach(s=>{s&&this.observer.observe(s)})},handleScroll(){this.checkScrollPosition()},checkScrollPosition(){const a=this.$refs.heroSection.offsetHeight;this.isScrolled=window.scrollY>a*.3,this.$refs.homeContainer.classList.toggle("scrolled",this.isScrolled)},toggleSearch(){this.showDropdown=!this.showDropdown,this.showResults=this.showDropdown&&this.selectedCategory},closeSearch(){this.showDropdown=!1,this.showResults=!1,this.selectedCategory=null},selectCategory(a){this.selectedCategory=a.id,this.showResults=!0,this.searchQuery=a.name},goToVillageDetail(a){this.$router.push(`/village/${a}`),this.closeSearch()},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},scrollToSection(a){const s=document.querySelector(a);s&&s.scrollIntoView({behavior:"smooth"})},onTestimonialSwiper(a){this.testimonialSwiper=a},startAutoScroll(){const s=this.testimonials.length;this.scrollInterval=setInterval(()=>{this.isPaused||(this.currentScrollPosition+=300,this.currentScrollPosition>=300*s&&setTimeout(()=>{this.currentScrollPosition=0},500),this.activeIndex=Math.floor(this.currentScrollPosition/300)%s)},3e3)},pauseAutoScroll(){this.isPaused=!0},resumeAutoScroll(){this.isPaused=!1},isActive(a){const s=this.testimonials.length;return a%s===this.activeIndex}}},da={class:"home",ref:"homeContainer"},ua={class:"hero",ref:"heroSection"},ga={class:"village-museum-title",ref:"titleSection"},fa={class:"search-container",ref:"searchSection"},ma={class:"search-box-container"},ha={class:"search-box"},va={class:"search-dropdown"},pa={class:"category-tabs"},Ca=["onClick"],ba={key:0,class:"search-results"},ya=["onClick"],ka={class:"location"},_a={key:0,class:"no-results"},Ea={class:"content-container",ref:"contentContainer"},Sa={class:"main-content"},xa={class:"carousel-container"},$a=["src","alt"],Ta={class:"carousel-caption"},Oa={class:"featured-section"},Ia={class:"village-list"},za=["onClick"],Ba=["src","alt"],Ma={class:"village-caption"},qa={class:"culture-features"},Da={class:"feature-grid"},Pa={class:"feature-icon"},La=["src","alt"],Na={class:"village-categories"},Aa={class:"category-grid"},ja={class:"category-image-container"},Va=["src","alt"],Fa={class:"testimonials"},Ha={class:"testimonial-slider-container"},Ra={class:"testimonial-slider-wrapper"},Ga={class:"author"},Wa=["src","alt"],Qa={class:"news-section"},Ua={class:"news-list"},Xa=["src","alt"],Ya={class:"news-content"},Ja={class:"date"},Ka={class:"excerpt"},Za={class:"right-nav",ref:"rightNav"};function wa(a,s,c,f,o,i){const h=j("NavBar"),y=j("swiper-slide"),k=j("swiper"),b=w("click-outside");return v(),C("div",da,[H(h,{class:A({"nav-scrolled":o.isScrolled})},null,8,["class"]),l("div",ua,s[10]||(s[10]=[l("video",{class:"hero-video",autoplay:"",muted:"",loop:""},[l("source",{src:ia,type:"video/mp4"}),l("img",{src:oa,alt:"岭南文化背景",class:"hero-fallback"})],-1),l("div",{class:"hero-content"},[l("h1",null,"探索文化瑰宝"),l("p",null,"走进广东传统村落，感受千年文脉传承")],-1)]),512),l("div",ga,s[11]||(s[11]=[l("h2",null,"村落馆",-1)]),512),l("div",fa,[l("div",ma,[V((v(),C("div",ha,[l("div",{class:"search-input",onClick:s[1]||(s[1]=(...n)=>i.toggleSearch&&i.toggleSearch(...n))},[V(l("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>o.searchQuery=n),placeholder:"搜索村落...",readonly:""},null,512),[[aa,o.searchQuery]]),s[12]||(s[12]=l("span",{class:"search-icon"},"▼",-1))]),V(l("div",va,[l("div",pa,[(v(!0),C(B,null,M(o.categories,n=>(v(),C("button",{key:n.id,onClick:_=>i.selectCategory(n),class:A({active:o.selectedCategory===n.id})},E(n.name),11,Ca))),128))]),o.showResults&&o.selectedCategory?(v(),C("div",ba,[(v(!0),C(B,null,M(i.filteredVillages,n=>(v(),C("div",{key:n.id,class:"result-item",onClick:_=>i.goToVillageDetail(n.id)},[na(E(n.name)+" ",1),l("span",ka,E(n.location),1)],8,ya))),128)),i.filteredVillages.length===0?(v(),C("div",_a," 没有找到相关村落 ")):R("",!0)])):R("",!0)],512),[[ta,o.showDropdown]])])),[[b,i.closeSearch]])])],512),l("div",Ea,[l("div",Sa,[l("div",xa,[H(k,{modules:f.modules,autoplay:o.swiperOptions.autoplay,pagination:o.swiperOptions.pagination,loop:!0,speed:800},{default:G(()=>[(v(!0),C(B,null,M(o.slides,(n,_)=>(v(),la(y,{key:_},{default:G(()=>[l("img",{src:n.image,alt:n.title,class:"carousel-image"},null,8,$a),l("div",Ta,[l("h3",null,E(n.title),1)])]),_:2},1024))),128))]),_:1},8,["modules","autoplay","pagination"])]),l("div",Oa,[s[13]||(s[13]=l("h2",null,"精选村落",-1)),l("div",Ia,[(v(!0),C(B,null,M(o.featuredVillages,n=>(v(),C("div",{class:"village-card",key:n.id,onClick:_=>i.goToVillageDetail(n.id)},[l("img",{src:n.image,alt:n.name,class:"village-image"},null,8,Ba),l("div",Ma,[l("h3",null,E(n.name),1)])],8,za))),128))])])]),l("div",qa,[s[14]||(s[14]=l("h2",{class:"section-title"},"文化特色",-1)),l("div",Da,[(v(!0),C(B,null,M(o.features,n=>(v(),C("div",{class:"feature-card",key:n.id},[l("div",Pa,[l("img",{src:n.icon,alt:n.title},null,8,La)]),l("h3",null,E(n.title),1),l("p",null,E(n.description),1)]))),128))])]),l("div",Na,[s[15]||(s[15]=l("h2",{class:"section-title"},"特色分类",-1)),l("div",Aa,[(v(!0),C(B,null,M(o.categories,n=>(v(),C("div",{class:"category-card",key:n.id},[l("div",ja,[l("img",{src:n.image,alt:n.name,class:"wide-category-image"},null,8,Va)]),l("span",null,E(n.name),1)]))),128))])]),l("div",Fa,[s[16]||(s[16]=l("h2",{class:"section-title"},"旅行者说",-1)),l("div",Ha,[l("div",Ra,[l("div",{class:"testimonial-slider-track",style:ea(i.sliderTrackStyle),onMouseenter:s[2]||(s[2]=(...n)=>i.pauseAutoScroll&&i.pauseAutoScroll(...n)),onMouseleave:s[3]||(s[3]=(...n)=>i.resumeAutoScroll&&i.resumeAutoScroll(...n))},[(v(!0),C(B,null,M(o.duplicatedTestimonials,(n,_)=>(v(),C("div",{class:A(["testimonial-card",{active:i.isActive(_)}]),key:`${n.id}-${_}`},[l("p",null,E(n.quote),1),l("div",Ga,[l("img",{src:n.avatar,alt:n.author},null,8,Wa),l("span",null,E(n.author),1)])],2))),128))],36)])])]),l("div",Qa,[s[17]||(s[17]=l("h2",{class:"section-title"},"文化动态",-1)),l("div",Ua,[(v(!0),C(B,null,M(o.newsList,n=>(v(),C("div",{class:"news-card",key:n.id},[l("img",{src:n.image,alt:n.title},null,8,Xa),l("div",Ya,[l("h3",null,E(n.title),1),l("p",Ja,E(n.date),1),l("p",Ka,E(n.excerpt),1)])]))),128))])])],512),l("div",Za,[l("button",{class:"nav-button",onClick:s[4]||(s[4]=(...n)=>i.scrollToTop&&i.scrollToTop(...n))},"回到顶部"),l("button",{class:"nav-button",onClick:s[5]||(s[5]=n=>i.scrollToSection(".village-museum-title"))},"村落馆"),l("button",{class:"nav-button",onClick:s[6]||(s[6]=n=>i.scrollToSection(".culture-features"))},"文化特色"),l("button",{class:"nav-button",onClick:s[7]||(s[7]=n=>i.scrollToSection(".village-categories"))},"特色分类"),l("button",{class:"nav-button",onClick:s[8]||(s[8]=n=>i.scrollToSection(".testimonials"))},"旅行者说"),l("button",{class:"nav-button",onClick:s[9]||(s[9]=n=>i.scrollToSection(".news-section"))},"文化动态")],512)],512)}const et=J(ca,[["render",wa],["__scopeId","data-v-150de8da"]]);export{et as default};
